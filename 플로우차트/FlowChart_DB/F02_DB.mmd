---
config:
  layout: fixed
---
flowchart TB
 subgraph DB_LABELS["DB 테이블 (참조/갱신)"]
        DB_WAIT["[DB]<br>WAITING_LISTS"]
        DB_TABLE["[DB]<br>STORE_TABLES"]
  end
    S(["시작"]) --> O1["점주 대기 관리 화면 진입"]
    O1 --> X1["현재 대기 목록 조회"]
    X1 --> D1{"대기 존재?"}
    D1 -- 아니오 --> E(["종료"])
    D1 -- 예 --> O2["대기 번호 선택"]
    O2 --> O3["대기 호출"]
    O3 --> D2{"입장 확인?"}
    D2 -- 예 --> O4["입장 처리"]
    O4 --> O6["[안내]<br>대기 호출 완료"]
    O6 --> E
    D2 -- 아니오 --> O5["노쇼 처리"]
    O5 --> O7["[안내]<br>노쇼 처리 완료"]
    O7 --> E
    X1 -.-> DB_WAIT
    O3 -.-> DB_WAIT
    O4 -.-> DB_WAIT & DB_TABLE
    O5 -.-> DB_WAIT

    DB_WAIT@{ shape: rect}
    DB_TABLE@{ shape: rect}
    O6@{ shape: doc}
    O7@{ shape: doc}
    style DB_WAIT  fill:#FFF8E1,stroke:#F9A825,stroke-width:1px
    style DB_TABLE fill:#FFF8E1,stroke:#F9A825,stroke-width:1px